(this.webpackJsonpwebshop=this.webpackJsonpwebshop||[]).push([[0],{45:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),i=c(30),s=c.n(i),r=c(16),l=c.n(r),j=c(10),o=c(20),d=c(5),b=c(8),u=c(4),m=n.a.createContext(),O=n.a.createContext(),h=n.a.createContext(),x=c(1);var p=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)(""),s=Object(d.a)(i,2),r=s[0],l=s[1],j=Object(a.useContext)(m).ItemsList,o=Object(a.useContext)(h).CategoryList;return Object(x.jsxs)("div",{className:"search header-col3 dropdown",children:[c&&Object(x.jsx)("div",{className:"dropdown-content",onMouseLeave:function(){n(!1)},children:""!==r?function(){var e=j.filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())}));return""!==r?e:[]}().map((function(e){return Object(x.jsx)("div",{className:"search-item",children:Object(x.jsxs)(b.b,{to:{pathname:"/item/".concat(e.id)},onClick:function(){localStorage.setItem("item",JSON.stringify(e)),n(!1)},children:[Object(x.jsx)("h3",{children:e.name}),Object(x.jsx)("img",{className:"search-img",src:e.url,alt:e.name})]})},e.id)})):o.map((function(e){return Object(x.jsx)("div",{className:"search-category",children:Object(x.jsx)(b.b,{to:{pathname:"/category/".concat(e.name)},onClick:function(){localStorage.setItem("category",JSON.stringify(e))},children:Object(x.jsx)("h3",{children:e.name})})},e.id)}))}),Object(x.jsx)("input",{type:"text",id:"search-field",value:r,onChange:function(e){l(e.target.value)},onClick:function(){n(!0)},placeholder:"Search"})]})};var v=function(){return Object(x.jsxs)("header",{className:"header",children:[Object(x.jsx)("div",{className:"header-col1",children:Object(x.jsx)("h1",{children:Object(x.jsx)(b.b,{to:"/",children:"Webshop"})})}),Object(x.jsx)(p,{}),Object(x.jsx)("div",{className:"header-col2",children:Object(x.jsxs)("ul",{className:"header-menu",children:[Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/about",children:"O nama"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/manage",children:"Ure\u0111ivanje"})})]})})]})};var g=function(){return Object(x.jsxs)("footer",{className:"footer",children:[Object(x.jsxs)("div",{className:"footer-col1",children:[Object(x.jsx)("h2",{children:"Upoznajte nas"}),Object(x.jsxs)("ul",{className:"footer-menu",children:[Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/about",children:"O nama"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/about",children:"Gdje smo"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/about",children:"\u010cesta pitanja"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:"/about",children:"Kontakt"})})]})]}),Object(x.jsx)("div",{className:"footer-col2"}),Object(x.jsx)("div",{className:"footer-col3",children:Object(x.jsx)("h2",{children:"Podatci"})})]})},f=c(19),N=c(22);c(48),c(47);N.a.initializeApp({apiKey:"AIzaSyAYFHbhiTO_u2kBgOOvuZKIW93orkDEG7c",authDomain:"webshop-test-40b3c.firebaseapp.com",projectId:"webshop-test-40b3c",storageBucket:"gs://webshop-test-40b3c.appspot.com",messagingSenderId:"284298191487",appId:"1:284298191487:web:e07910ef34757e5015d54a",measurementId:"G-7KY9VPMJN6"}),N.a.firestore().settings({timestampsInSnapshots:!0});var y=N.a.firestore(),C=N.a.storage(),S=y;var I=function(e){var t=Object(a.useState)(0),c=Object(d.a)(t,2),n=c[0],i=c[1],s=Object(a.useState)(null),r=Object(d.a)(s,2),j=r[0],b=r[1],u=Object(a.useState)(null),m=Object(d.a)(u,2),O=m[0],h=m[1];return Object(a.useEffect)((function(){var t=C.ref(e.name);t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;i(t)}),(function(e){b(e)}),Object(o.a)(l.a.mark((function e(){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:c=e.sent,h(c);case 4:case"end":return e.stop()}}),e)}))))}),[e]),{progress:n,error:j,url:O}};var L=function(e){var t=e.file,c=e.setFile,n=e.getUrl,i=I(t),s=i.progress,r=i.url;return Object(a.useEffect)((function(){r&&(n(r),c(null))}),[r,c]),Object(x.jsx)("div",{className:"progress-bar",style:{width:s+"%"}})};var k=function(e){var t=e.getUrl,c=Object(a.useState)(null),n=Object(d.a)(c,2),i=n[0],s=n[1],r=Object(a.useState)(null),l=Object(d.a)(r,2),j=l[0],o=l[1],b=["image/png","image/jpeg"];return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{className:"add-item-label",htmlFor:"img",children:"Item Image"}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"add-item-input-text",type:"file",name:"img",id:"img",onChange:function(e){var t=e.target.files[0];t&&b.includes(t.type)?(s(t),o(null)):(s(null),o("Please select an image file(png or jpeg)"))}})})]}),Object(x.jsxs)("div",{className:"output",children:[j&&Object(x.jsx)("div",{className:"error",children:j}),i&&Object(x.jsx)("div",{className:"file-name",children:i.name}),i&&Object(x.jsx)(L,{file:i,setFile:s,getUrl:t})]})]})};var w=function(){var e={name:"",desc:"",price:0,category:"",url:""},t=Object(a.useContext)(m),c=t.getCollection,n=t.setItemsList,i=Object(a.useContext)(h).CategoryList,s=Object(a.useState)(e),r=Object(d.a)(s,2),l=r[0],o=r[1],b=function(e){var t=e.target,c="checkbox"===t.type?t.checked:t.value,a=t.name;o(Object(j.a)(Object(j.a)({},l),{},Object(f.a)({},a,c)))};return Object(x.jsxs)("form",{className:"add-item",onSubmit:function(t){l.name!==e.name&&l.price!==e.price&&l.category!==e.category&&S.collection("items").add(l).then((function(t){c("items",n),o(e)})).catch((function(t){console.error(t),o(e)})),t.preventDefault()},children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{className:"add-item-label",htmlFor:"name",children:"Item Name"}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"add-item-input-text",type:"text",name:"name",id:"name",value:l.name,onChange:b})})]}),Object(x.jsx)("div",{className:"add-item-categories",children:i.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{className:"add-item-label",htmlFor:e.name,children:e.name}),Object(x.jsx)("input",{className:"add-item-input-radio",name:"category",type:"radio",id:e.name,value:e.name,onChange:b})]},e.id)}))}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{className:"add-item-label",htmlFor:"desc",children:"Item Description"}),Object(x.jsx)("div",{children:Object(x.jsx)("textarea",{className:"add-item-textarea",type:"textarea",name:"desc",id:"desc",value:l.desc,onChange:b})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{className:"add-item-label",htmlFor:"price",children:"Item Price"}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"add-item-input-text",type:"number",name:"price",id:"price",value:l.price,onChange:b})})]}),Object(x.jsx)(k,{getUrl:function(e){o(Object(j.a)(Object(j.a)({},l),{},{url:e}))}}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"add-item-input-submit ",type:"submit"})})]})},D=(c(44),c(32)),F=function(){var e=Object(a.useContext)(O).SlideList;return Object(x.jsx)("div",{className:"slide-box",children:Object(x.jsx)(D.Slide,{easing:"ease",children:e.map((function(e){return Object(x.jsx)("div",{className:"each-slide",children:Object(x.jsx)("div",{style:{backgroundImage:"url(".concat(e.url,")")}})},e.id)}))})})};var J=function(){var e={url:""},t=Object(a.useContext)(O),c=t.getCollection,n=t.setSlideList,i=Object(a.useState)(e),s=Object(d.a)(i,2),r=s[0],l=s[1];return Object(x.jsxs)("form",{className:"add-Slide",onSubmit:function(t){S.collection("slides").add(r).then((function(t){c("slides",n),l(e)})).catch((function(t){console.error(t),l(e)})),t.preventDefault()},children:[Object(x.jsx)(k,{getUrl:function(e){l(Object(j.a)(Object(j.a)({},r),{},{url:e}))}}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"add-Slide-input-submit ",type:"submit"})})]})};var U=function(){var e={name:""},t=Object(a.useContext)(h),c=t.getCollection,n=t.setCategoryList,i=Object(a.useState)(e),s=Object(d.a)(i,2),r=s[0],l=s[1];return Object(x.jsxs)("form",{className:"add-Category",onSubmit:function(t){r.name!==e.name&&S.collection("categories").add(r).then((function(t){c("categories",n),l(e)})).catch((function(t){console.error(t),l(e)})),t.preventDefault()},children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{className:"add-Category-label",htmlFor:"name",children:"Category Name"}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"add-Category-input-text",type:"text",name:"name",id:"name",value:r.name,onChange:function(e){var t=e.target,c="checkbox"===t.type?t.checked:t.value,a=t.name;l(Object(j.a)(Object(j.a)({},r),{},Object(f.a)({},a,c)))}})})]}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"add-Category-input-submit ",type:"submit"})})]})};var P=function(){var e=Object(a.useContext)(h).CategoryList;return Object(x.jsxs)("div",{className:"box frontpage-wrap",children:[Object(x.jsx)(F,{}),Object(x.jsx)("div",{className:"frontpage-categories",children:e.map((function(e){return Object(x.jsx)("div",{className:"frontpage-category",children:Object(x.jsx)(b.b,{to:{pathname:"/category/".concat(e.name)},onClick:function(){localStorage.setItem("category",JSON.stringify(e))},children:e.name})},e.id)}))})]})};var E=function(){return Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("h1",{children:"About"}),Object(x.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laboru"})]})};var q=function(){var e=Object(a.useContext)(m),t=e.ItemsList,c=e.setItemsList,n=e.getCollection,i=Object(a.useContext)(O),s=i.SlideList,r=i.setSlideList,j=Object(a.useContext)(h),d=j.CategoryList,b=j.setCategoryList,u=function(){var e=Object(o.a)(l.a.mark((function e(t,c,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.collection(c).doc(t).delete();case 2:n(c,a);case 3:case"end":return e.stop()}}),e)})));return function(t,c,a){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"manageitems-table box",children:[Object(x.jsx)(U,{}),Object(x.jsx)("div",{children:d.map((function(e){return Object(x.jsxs)("div",{className:"table-row",children:[Object(x.jsx)("div",{children:e.name}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:function(){return u(e.id,"categories",b)},children:"Delete"})})]},e.id)}))}),Object(x.jsx)(J,{}),Object(x.jsx)("div",{children:s.map((function(e){return Object(x.jsxs)("div",{className:"table-row",children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:e.url,alt:"img",className:"slide-img-preview"})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:function(){return u(e.id,"slides",r)},children:"Delete"})})]},e.id)}))}),Object(x.jsx)(w,{}),Object(x.jsxs)("div",{className:"table-header",children:[Object(x.jsx)("div",{children:"Ime"}),Object(x.jsx)("div",{children:"Cijena"}),Object(x.jsx)("div",{children:"Kategorija"})]}),t.sort((function(e,t){return e.price-t.price})).map((function(e){return Object(x.jsxs)("div",{className:"table-row",children:[Object(x.jsx)("div",{children:e.name}),Object(x.jsxs)("div",{children:[e.price," kn"]}),Object(x.jsx)("div",{children:e.category}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:function(){return u(e.id,"items",c)},children:"Delete"})})]},e.id)}))]})};var K=function(){var e=JSON.parse(localStorage.getItem("item"));return Object(x.jsxs)("div",{className:"itempage box",children:[Object(x.jsxs)("div",{className:"itempage-col1",children:[Object(x.jsx)("h3",{children:e.name}),Object(x.jsx)("img",{className:"itempage-img",src:e.url,alt:e.name})]}),Object(x.jsxs)("div",{className:"itempage-col2",children:[Object(x.jsx)("p",{children:e.desc}),Object(x.jsxs)("p",{children:[e.price," kn"]})]})]})};var A=function(){var e=Object(a.useContext)(m).ItemsList,t=JSON.parse(localStorage.getItem("category"));return Object(x.jsx)("div",{className:"category-itemlist box",children:e.map((function(e){return e.category===t.name&&Object(x.jsxs)("div",{className:"category-item",children:[Object(x.jsxs)(b.b,{to:{pathname:"/item/".concat(e.id)},onClick:function(){localStorage.setItem("item",JSON.stringify(e))},children:[Object(x.jsx)("h3",{children:e.name}),Object(x.jsx)("img",{className:"category-img",src:e.url,alt:e.name})]}),Object(x.jsxs)("p",{children:[e.price," kn"]})]},e.id)}))})},B=(c(45),function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),s=Object(d.a)(i,2),r=s[0],p=s[1],f=Object(a.useState)([]),N=Object(d.a)(f,2),y=N[0],C=N[1],I=function(){var e=Object(o.a)(l.a.mark((function e(t,c){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.collection(t).get();case 2:a=e.sent,n=a.docs.map((function(e){return Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id})})),c(n);case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){I("items",n),I("slides",p),I("categories",C)}),[]),Object(x.jsx)(b.a,{children:Object(x.jsxs)("div",{children:[Object(x.jsx)(m.Provider,{value:{ItemsList:c,setItemsList:n,getCollection:I},children:Object(x.jsx)(O.Provider,{value:{SlideList:r,setSlideList:p,getCollection:I},children:Object(x.jsxs)(h.Provider,{value:{CategoryList:y,setCategoryList:C,getCollection:I},children:[Object(x.jsx)(v,{}),Object(x.jsxs)(u.c,{children:[Object(x.jsx)(u.a,{path:"/about",children:Object(x.jsx)(E,{})}),Object(x.jsx)(u.a,{path:"/manage",children:Object(x.jsx)(q,{})}),Object(x.jsx)(u.a,{path:"/category/:name",children:Object(x.jsx)(A,{})}),Object(x.jsx)(u.a,{path:"/item/:id",children:Object(x.jsx)(K,{})}),Object(x.jsx)(u.a,{path:"/",children:Object(x.jsx)(P,{})})]})]})})}),Object(x.jsx)(g,{})]})})});s.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(B,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.80c219a7.chunk.js.map