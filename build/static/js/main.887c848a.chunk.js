(this.webpackJsonpwebshop=this.webpackJsonpwebshop||[]).push([[0],{37:function(e,t,c){},43:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),s=c(30),i=c.n(s),r=c(15),l=c.n(r),j=c(17),d=c(19),o=c(13),b=c(8),u=c(4),m=(c(37),c(1));var O=function(){return Object(m.jsxs)("header",{className:"header",children:[Object(m.jsx)("div",{className:"header-col1",children:Object(m.jsx)("h1",{children:Object(m.jsx)(b.b,{to:"/",children:"Webshop"})})}),Object(m.jsx)("div",{className:"header-col2",children:Object(m.jsxs)("ul",{className:"header-menu",children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/about",children:"O nama"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/manage",children:"Lista stvari"})})]})})]})};c(43);var h=function(){return Object(m.jsxs)("footer",{className:"footer",children:[Object(m.jsxs)("div",{className:"footer-col1",children:[Object(m.jsx)("h2",{children:"Upoznajte nas"}),Object(m.jsxs)("ul",{className:"footer-menu",children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/about",children:"O nama"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/about",children:"Gdje smo"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/about",children:"\u010cesta pitanja"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/about",children:"Kontakt"})})]})]}),Object(m.jsxs)("div",{className:"footer-col2",children:[Object(m.jsx)("h2",{children:"Pla\u0107anje i dostava"}),Object(m.jsxs)("ul",{className:"footer-menu",children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/about",children:"Dostava i povrat"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/about",children:"Pla\u0107anje i sigurnost"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/about",children:"Uvijeti i prava"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/about",children:"Kontakt"})})]})]}),Object(m.jsx)("div",{className:"footer-col3",children:Object(m.jsx)("h2",{children:"Podatci"})})]})},x=c(22),p=c(21);c(51),c(50);p.a.initializeApp({apiKey:"AIzaSyAYFHbhiTO_u2kBgOOvuZKIW93orkDEG7c",authDomain:"webshop-test-40b3c.firebaseapp.com",projectId:"webshop-test-40b3c",storageBucket:"gs://webshop-test-40b3c.appspot.com",messagingSenderId:"284298191487",appId:"1:284298191487:web:e07910ef34757e5015d54a",measurementId:"G-7KY9VPMJN6"}),p.a.firestore().settings({timestampsInSnapshots:!0});var v=p.a.firestore(),f=p.a.storage(),g=v,N=a.a.createContext();var I=function(e){var t=Object(n.useState)(0),c=Object(o.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)(null),r=Object(o.a)(i,2),j=r[0],b=r[1],u=Object(n.useState)(null),m=Object(o.a)(u,2),O=m[0],h=m[1];return Object(n.useEffect)((function(){var t=f.ref(e.name);t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;s(t)}),(function(e){b(e)}),Object(d.a)(l.a.mark((function e(){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:c=e.sent,h(c);case 4:case"end":return e.stop()}}),e)}))))}),[e]),{progress:a,error:j,url:O}};var w=function(e){var t=e.file,c=e.setFile,a=e.getUrl,s=I(t),i=s.progress,r=s.url;return Object(n.useEffect)((function(){r&&(a(r),c(null))}),[r,c]),Object(m.jsx)("div",{className:"progress-bar",style:{width:i+"%"}})};var k=function(e){var t=e.getUrl,c=Object(n.useState)(null),a=Object(o.a)(c,2),s=a[0],i=a[1],r=Object(n.useState)(null),l=Object(o.a)(r,2),j=l[0],d=l[1],b=["image/png","image/jpeg"];return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{className:"add-item-label",htmlFor:"img",children:"Item Image"}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{className:"add-item-input-text",type:"file",name:"img",id:"img",onChange:function(e){var t=e.target.files[0];t&&b.includes(t.type)?(i(t),d(null)):(i(null),d("Please select an image file(png or jpeg)"))}})})]}),Object(m.jsxs)("div",{className:"output",children:[j&&Object(m.jsx)("div",{className:"error",children:j}),s&&Object(m.jsx)("div",{className:"file-name",children:s.name}),s&&Object(m.jsx)(w,{file:s,setFile:i,getUrl:t})]})]})};c(45);var y=function(){var e={name:"",desc:"",price:0,url:""},t=Object(n.useContext)(N).getItems,c=Object(n.useState)(e),a=Object(o.a)(c,2),s=a[0],i=a[1],r=function(e){var t=e.target,c="checkbox"===t.type?t.checked:t.value,n=t.name;i(Object(j.a)(Object(j.a)({},s),{},Object(x.a)({},n,c)))};return Object(m.jsxs)("form",{className:"add-item",onSubmit:function(c){s.name!==e.name&&s.price!==e.price&&g.collection("items").add(s).then((function(c){t(),i(e)})).catch((function(t){console.error(t),i(e)})),c.preventDefault()},children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{className:"add-item-label",htmlFor:"name",children:"Item Name"}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{className:"add-item-input-text",type:"text",name:"name",id:"name",value:s.name,onChange:r})})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{className:"add-item-label",htmlFor:"desc",children:"Item Description"}),Object(m.jsx)("div",{children:Object(m.jsx)("textarea",{className:"add-item-textarea",type:"textarea",name:"desc",id:"desc",value:s.desc,onChange:r})})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{className:"add-item-label",htmlFor:"price",children:"Item Price"}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{className:"add-item-input-text",type:"number",name:"price",id:"price",value:s.price,onChange:r})})]}),Object(m.jsx)(k,{getUrl:function(e){i(Object(j.a)(Object(j.a)({},s),{},{url:e}))}}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{className:"add-item-input-submit ",type:"submit"})})]})};c(46);var S=function(){var e=Object(n.useContext)(N).ItemsList;return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"frontpage-itemlist",children:e.map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:e.name}),Object(m.jsx)("img",{className:"frontpage-img",src:e.url,alt:e.name}),Object(m.jsx)("p",{children:e.desc}),Object(m.jsxs)("p",{children:[e.price," kn"]})]},e.id)}))})})};var C=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"About"}),Object(m.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laboru"})]})};c(47);var D=function(){var e=Object(n.useContext)(N),t=e.ItemsList,c=e.getItems,a=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.collection("items").doc(t).delete();case 2:c();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"manageitems-table",children:[Object(m.jsx)(y,{}),Object(m.jsxs)("div",{className:"table-header",children:[Object(m.jsx)("div",{children:"Ime"}),Object(m.jsx)("div",{children:"Opis"}),Object(m.jsx)("div",{children:"Cijena"}),Object(m.jsx)("div",{})]}),t.map((function(e){return Object(m.jsxs)("div",{className:"table-row",children:[Object(m.jsx)("div",{children:e.name}),Object(m.jsx)("div",{children:e.desc}),Object(m.jsxs)("div",{children:[e.price," kn"]}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){return a(e.id)},children:"Delete"})})]},e.id)}))]})},U=(c(48),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=function(){var e=Object(d.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.collection("items").get();case 2:t=e.sent,c=t.docs.map((function(e){return Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id})})),a(c),console.log("called Items");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),Object(m.jsx)(b.a,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)(O,{}),Object(m.jsx)(N.Provider,{value:{ItemsList:c,setItemsList:a,getItems:s},children:Object(m.jsxs)(u.c,{children:[Object(m.jsx)(u.a,{path:"/about",children:Object(m.jsx)(C,{})}),Object(m.jsx)(u.a,{path:"/manage",children:Object(m.jsx)(D,{})}),Object(m.jsx)(u.a,{path:"/",children:Object(m.jsx)(S,{})})]})}),Object(m.jsx)(h,{})]})})});i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(U,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.887c848a.chunk.js.map